<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Estadísticas</title>

<script type="text/javascript">
	function getEstadisticas(){
		sendNSCommand("cargarEstadisticas");
	}
</script>

<link rel="stylesheet" href="css/graficos2.css">

<script type="text/javascript" src="fusioncharts/fusioncharts.js"></script>
<script type="text/javascript" src="fusioncharts/themes/fusioncharts.theme.carbon.js"></script>
<script type="text/javascript" src="fusioncharts/themes/fusioncharts.theme.fint.js"></script>
<script type="text/javascript" src="fusioncharts/themes/fusioncharts.theme.zune.js"></script>
<script type="text/javascript" src="fusioncharts/themes/fusioncharts.theme.ocean.js"></script>

<script type="text/javascript">

	FusionCharts.ready(function() {
		var seleccion,
			inputs,
			selElem,
			revenueChart0 = new FusionCharts({
			type : "column2d",
			renderAt : "chart5DiasA",
			width : "360",
			height : "240",
			dataFormat : "xml",
			dataSource : 
				"<chart caption='Gráfica Semanal Total' theme='fint' rotateValues='0' bgcolor='FFFFFF' useroundedges='1' showborder='0' palettecolors='#008ee4,#6baa01,#f8bd19,#e44a00,#33bdda'><set label='Jueves' value='282'/><set label='Viernes' value='441'/><set label='Lunes' value='135'/><set label='Martes' value='232'/><set label='Miércoles' value='264'/></chart>"
		});
		revenueChart0.render("chart5DiasA");
		
		
		seleccion = document.getElementById('secciones5dias');
		inputs = seleccion.getElementsByTagName('option');
	    for (var i = 0; i < inputs.length; i++) {
	        selElem = inputs[i];
	        selElem.onclick = function(){
	        	// sendNSCommand("5dias" + this.value);
	        	// alert(selElem.value);
	        };
	    }
		
		
	});
</script>


<script type="text/javascript">

	FusionCharts.ready(function() {
		var seleccionAño,
			seleccionMes,
			seleccionesTipo,
			selElemA,
			selElemM,
			selElemT,
			revenueChart0 = new FusionCharts({
			type : "column2d",
			renderAt : "chart5DiasB",
			width : "360",
			height : "240",
			dataFormat : "json",
			dataSource : 

			{

			}
				
				
		});
		revenueChart0.render("chart5DiasB");
		
		seleccionAño = document.getElementById('Mes_año');
		inputs = seleccionAño.getElementsByTagName('option');
	    for (var i = 0; i < inputs.length; i++) {
	        selElemA = inputs[i];
	        selElemA.onclick = function(){
	        	
	        	var mes = document.getElementById('Mes_mes').value;
	        	var año = this.value
	        	var tip = document.getElementById('Mes_tipo').value;
	        	
	        	var cadena = año + mes + tip;
	        	
	        	sendNSCommand('Mes' + cadena);
	        	
	        };
	    }
	    
		seleccionMes = document.getElementById('Mes_mes');
		inputs = seleccionMes.getElementsByTagName('option');
	    for (var i = 0; i < inputs.length; i++) {
	        selElemM = inputs[i];
	        selElemM.onclick = function(){
	        	
	        	var año = document.getElementById('Mes_año').value;
	        	var mes = this.value
	        	var tip = document.getElementById('Mes_tipo').value;
	        	
	        	var cadena = año + mes + tip;
	        	
	        	sendNSCommand('Mes' + cadena);
	        	
	        };
	    }
	    
		seleccionTipo = document.getElementById('Mes_tipo');
		inputs = seleccionTipo.getElementsByTagName('option');
	    for (var i = 0; i < inputs.length; i++) {
	        selElemT = inputs[i];
	        selElemT.onclick = function(){
	        	
	        	var año = document.getElementById('Mes_año').value;
	        	var tip = this.value
	        	var mes = document.getElementById('Mes_mes').value;
	        	
	        	var cadena = año + mes + tip;
	        	
	        	sendNSCommand('Mes' + cadena);
	        	
	        };
	    }
	});
</script>

<script type="text/javascript">

	FusionCharts.ready(function() {
		var seleccionAño,
			seleccionTipo,
			selElemA,
			selElemT,
			revenueChart0 = new FusionCharts({
			type : "column2d",
			renderAt : "chart5DiasC",
			width : "360",
			height : "240",
			dataFormat : "xml",
			dataSource : 
				"<chart caption='Gráfica Anual 1' theme='fint'><set label='Jueves' value='282'/><set label='Viernes' value='441'/><set label='Lunes' value='135'/><set label='Martes' value='232'/><set label='Miércoles' value='264'/></chart>"

		});
		revenueChart0.render("chart5DiasC");
		
		seleccionAño = document.getElementById('Año_año');
		inputs = seleccionAño.getElementsByTagName('option');
	    for (var i = 0; i < inputs.length; i++) {
	        selElemA = inputs[i];
	        selElemA.onclick = function(){
	        	
	        	var año = this.value
	        	var tip = document.getElementById('Año_tipo').value;
	        	
	        	var cadena = año + tip;
	        	
	        	sendNSCommand('Año' + cadena);
	        	
	        };
	    }
	    
	    
		seleccionTipo = document.getElementById('Año_tipo');
		inputs = seleccionTipo.getElementsByTagName('option');
	    for (var i = 0; i < inputs.length; i++) {
	        selElemT = inputs[i];
	        selElemT.onclick = function(){
	        	
	        	var año = document.getElementById('Año_año').value;
	        	var tip = this.value
	        	
	        	var cadena = año + tip;
	        	
	        	sendNSCommand('Año' + cadena);
	        	
	        };
	    }
	});
</script>


<script type="text/javascript">

	FusionCharts.ready(function() {
		var val,
			inputs,
			selElemG,
			selElemT,
			seleccionGrafico,
			seleccionTipo,
			revenueChart0 = new FusionCharts({
			type : "mscolumn2d",
			renderAt : "chart5DiasE",
			width : "760",
			height : "200",
			dataFormat : "json",
			dataSource : 
				{}
		});
		revenueChart0.render("chart5DiasE");
		
		
		seleccionGrafico = document.getElementById('Años_grafico');
		inputs = seleccionGrafico.getElementsByTagName('option');
	    for (var i = 0; i < inputs.length; i++) {
	        selElemG = inputs[i];
	        selElemG.onclick = function(){
	        	var graf = this.value;
	        	var tip = document.getElementById('Años_tipo').value;
	        	
	        	var cadena = graf + "_" + tip;
	        	
	        	sendNSCommand('Añs' + cadena);
	        };
	    }
		
		seleccionTipo = document.getElementById('Años_tipo');
		inputs = seleccionTipo.getElementsByTagName('option');
	    for (var i = 0; i < inputs.length; i++) {
	        selElemT = inputs[i];
	        selElemT.onclick = function(){

	        	var graf = document.getElementById('Años_grafico').value;
	        	var tip = this.value
	        	
	        	var cadena = graf + "_" + tip;
	        	
	        	sendNSCommand('Añs' + cadena);

	        };
	    }
		
	});
</script>


<script type="text/javascript">
FusionCharts.ready(function() {
	var revenueChart1 = new FusionCharts({
		type : "pie3d",
		renderAt : "chartTarta",
		width : "760",
		height : "240",
		dataFormat : "json",
		dataSource :  {
		    "chart": {
		     //   "caption": "Distribución diaria",
		     //   "palette": "2",
		        "animation": "1",
		        "formatNumberScale": "0",
		        "decimals": "0",
		        "showLegend": "1",
		        "legendBorderAlpha": "0",
		      //  "numberprefix": "$",
		        "pieslicedepth": "10",
		        "startingangle": "200",
		        "showBorder": "0",
		        "showHoverEffect": "1",
		        "toolTipColor": "#ffffff",
		        "toolTipBgColor": "#000000",
		        "toolTipBgAlpha": "80",
		        "toolTipBorderRadius": "2",
		        "toolTipPadding": "5",
		        "use3DLighting": "1",
		        "radius3D": "40"
		    },
		    "data": [
		        {
		            "label": "Xedoc",
		            "value": "150",
		            "issliced": "1",
		            "color": "#FA9000"
		        },
		        {
		            "label": "Ianus Doc",
		            "value": "1200",
		            "issliced": "1",
		            "color": "#C40000"
		        },
		        {
		            "label": "Ianus Urg",
		            "value": "320",
		            "issliced": "0",
	            	"color": "#750303"
		        }
		    ]
		}

		});	
		revenueChart1.render("chartTarta");
	});

</script>

<script type="text/javascript">
	function tipoEstadistica(tipoDoc){
		// alert(tipoDoc);
		sendNSCommand("5dias" + tipoDoc);
		// alert('enviado');
	}
</script>

<script type="text/javascript">
	function seleccionado(tipoDoc){
		 sendNSCommand(tipoDoc);
	}
	
	function seleccionadoGraf(grafico, tipoDoc){
		 if(grafico == "Mes"){
	        	var año = document.getElementById('Mes_año').value;
	        	var mes = document.getElementById('Mes_mes').value;
	        	var tip = document.getElementById('Mes_tipo').value;
	        	
	        	var cadena = año + mes + tip;
	        	
	        	sendNSCommand(grafico + cadena);
		 }
		 		 
		 if(grafico == "Año"){
	        	var año = document.getElementById('Año_año').value;
	        	var tip = document.getElementById('Año_tipo').value;
	        	
	        	var cadena = año + tip;
	        	
	        	sendNSCommand(grafico + cadena);
		 }
		 
		 if(grafico == "Añs"){
	        	var graf = document.getElementById('Años_grafico').value;
	        	var tip = document.getElementById('Años_tipo').value;
	        	
	        	var cadena = graf + "_" + tip;
	        	
	        	sendNSCommand('Añs' + cadena);
		 }
	}
</script>
</head>

<!--  onload="getEstadisticas()" -->

<body onload="getEstadisticas()">

<div class="datos">
	<!--  <div>Estadística del <span id='dia'> ayer</span> -->


</div>

<div class="cabecera">
	<ul class='lista'>
		<li><a href="#" onclick="tipoEstadistica('Ianus')">Ianus</a></li>
		<li><a href="#" onclick="tipoEstadistica('Urgencias')">Urgencias</a></li>
		<li><a href="#" onclick="tipoEstadistica('Xedoc')">Xedoc</a></li>
		<li><a href="#" onclick="tipoEstadistica('Total')">Total</a></li>
		<li><span id='fecha'> Estadística del <span id='dia'> ayer</span></span></li>
	</ul>
	
</div>

<div class="pestañas">

</div>
<div id = "cargando">
<div class="centrar">
	<div class="tarta" id="chartTarta">FusionCharts XT will load here!</div>
</div>


	<div class="centrar">
		<div class="pequeñoI">
			<div class = 'titulo'>
				ULTIMOS 5 DIAS
			</div>
			<div class="tipoSubida"> 
				<select name='secciones' id='secciones5dias' onchange='seleccionado("5dias" + value);'>
					<option value='Ianus' > Ianus</option>
					<option value='Urgencias'> Urgencias </option>
					<option value='Xedoc'> Xedoc </option>
					<option value = 'Total' selected> Total </option>
				</select>
			</div>
			<div id="chart5DiasA">FusionCharts XT will load here!</div>

		</div> 
		
	</div>
	<div class = "centrar">
		<div class="pequeñoD">
			<div class = 'titulo'>
				Mensual
			</div>
			<div class = "tipoSubida">
				<select name='secciones' id='Mes_tipo' onchange='seleccionadoGraf("Mes",value);'>
					<option value='Ianus'> Ianus</option>
					<option value='Urgencias'> Urgencias </option>
					<option value='Xedoc'> Xedoc </option>
					<option value = 'Total' selected> Total </option>
				</select>
			</div>
			<div class = "mes">
				<select name='meses' id='Mes_mes' onchange='seleccionadoGraf("Mes",value);'>
					<option value='01'> Enero</option>
					<option value='02'> Febrero </option>
					<option value='03'> Marzo </option>
					<option value='04'> Abril</option>
					<option value='05'> Mayo </option>
					<option value='06' selected> Junio </option>
					<option value='07'> Julio </option>
					<option value='08'> Agosto </option>
					<option value='09'> Setiembre </option>
					<option value='10'> Octubre </option>
					<option value='11'> Noviembre </option>
					<option value='12'> Diciembre </option>
				</select>
			</div>
			<div class = "año">
				<select name='años' id='Mes_año' onchange='seleccionadoGraf("Mes",value);'>
					<option value='2015' selected> 2015</option>
					<option value='2014'> 2014 </option>
				</select>
			</div>

			<div id="chart5DiasB">FusionCharts XT will load here!</div>
		</div>
	</div>
	
	<div class="centrar">
		<div class="pequeñoI">
			<div class = 'titulo'>
				Anual
			</div>
			<div class="tipoSubida"> 
				<select name='secciones' id='Año_tipo' onchange='seleccionadoGraf("Año",value);'>
					<option value='Ianus'> Ianus</option>
					<option value='Urgencias'> Urgencias </option>
					<option value='Xedoc'> Xedoc </option>
					<option value = 'Total' selected> Total </option>
				</select>
			</div>
			<div class = "año">
				<select name='años' id='Año_año' onchange='seleccionadoGraf("Año",value);'>
					<option value='2015' selected> 2015</option>
					<option value='2014'> 2014 </option>
				</select>
			</div>
			<div id="chart5DiasC">FusionCharts XT will load here!</div>
		</div> 
		
	</div>
	
	<div class="centrar">
		<div class="pequeñoD">
			<div class="tipoSubida"> 
				<select name='secciones'>
					<option value='Ianus'> Ianus</option>
					<option value='Urgencias'> Urgencias </option>
					<option value='Xedoc'> Xedoc </option>
					<option value = 'Total' selected> Total </option>
				</select>
			</div>
			<div id="chart5DiasD">
				<div>Pdfs de documentación asociados con IANUS: <span id='ianusDoc'></span></div>
				<div>Pdfs de urgencias asociados con IANUS: <span id='ianusUrg'></span></div>
				<div>Pdfs asociados con XEDOC: <span id='xedoc'></span></div>
				<div> Pdfs totales: <span id='total'></span></div>
			</div>
		</div> 
	</div>	
	

<span id="ocultar">Grafica Acumulada</span>

<div class="centrar">
	<div class="ancho" id="ultimo">
			<div class = 'titulo'>
				Anual
			</div>
			<div class="tipo" > 
				<select name='secciones' id="Años_tipo" onchange='seleccionadoGraf("Añs",value);'>
					<option value='Ianus'> Ianus</option>
					<option value='Urgencias'> Urgencias </option>
					<option value='Xedoc'> Xedoc </option>
					<option value = 'Total' selected> Total </option>
				</select>
			</div>
			<div class = "grafico">
				<select name='tipoGrafico' id='Años_grafico' onchange='seleccionadoGraf("Añs",value);'>
					<option value='mscolumn2d' selected> Barras</option>
					<option value='mscolumn3d'> Barras 3D</option>
					<option value='msarea'> Area</option>
					<option value='msline'> Líneas </option>
				</select>
			</div>
			<div id="chart5DiasE">FusionCharts XT will load here!</div>
	</div>
</div>
</div>
</body>
</html>