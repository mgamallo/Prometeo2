<!DOCTYPE html>
<html lang="es">

<head>
<meta charset="utf-8" />
<title>Abrir carpeta Xedoc</title>
<link rel="stylesheet" href="css/metro-bootstrap.css">
<link rel="stylesheet" href="css/iconFont.css">
<link rel="stylesheet" href="css/drag.css">
<script src="js/jquery/jquery.min.js"></script>
<script src="js/jquery/jquery.widget.min.js"></script>
<script src="js/metro/metro-button-set.js"></script>
<script src="js/metro/metro.min.js"></script>
<script src="js/metro/metro-hint.js"></script>
<script src="js/metro/metro-input-control.js"></script>
<script src="js/yui-min.js"></script>

<script>function hola(){document.all.ins.click()};</script>

</head>
<body class="metro" >  <!-- onload="hola()" -->

				<div class="row" style="margin: 20px auto 40px 10px">	
					<div class="row" style="float: right; margin-right: 20px;">

							<a class="tile half bg-emerald" title="Menu abrir" href="command://abrir">
								<div class="tile-content icon">
									<i class="icon-upload"></i>
								</div>
							</a> 

					</div>
					
					
					<div class="row">

							<h1 class="tile-area-title fg-white" style="float: left; margin: 0 100px 10px 10px; font-size: 40px;">Xedoc</h1>
				
							<a class="tile half bg-crimson"  title="actualizar" id="ins" name="prueba" href="command://firmado">
								<div class="tile-content icon">
									<i class="icon-cycle"></i>
								</div>
							</a>
	
					</div>
					
					<div class="row">

							<a class="tile half bg-yellow" title="Iniciar Altair" href="command://iniciarXedoc">
								<div class="tile-content icon">
									<i class="icon-lightning fg-crimson"></i>
								</div>
							</a> 
							<a class="tile half bg-magenta"  title="Carpeta Xedoc Originales" href="command://carpetaXedocO">
								<div class="tile-content icon">
									<i class="icon-basket"></i>
								</div>
							</a>

					</div>
					
					<br>
					<span class="fg-white">Documentos totales: <strong class="fg-crimson" id="pdfstotales"> 589</strong></span>
					<br>
					<span class="fg-white">Documentos pendientes: <strong class="fg-crimson" id="pdfspendientes"> 209</strong></span>
					

				</div>
				
				<div id="Xedoc">
					<div id="workarea">
						<div class="usuarios">
						    <div class="player" id="ana"><h3 style="color: white;">Ana</h3></div>
						    <div class="player" id="asun"><h3 style="color: white;">Asun</h3></div>
						    <div class="player" id="conchi"><h3 style="color: white;">Conchi</h3></div>
						    <div class="player" id="esther"><h3 style="color: white;">Esther</h3></div>
						    <div class="player" id="iago"><h3 style="color: white;">Iago</h3></div>
						    <div class="player" id="irene"><h3 style="color: white;">Irene</h3></div>
						    <div class="player" id="isa"><h3 style="color: white;">Isa</h3></div>
						    <div class="player" id="juanma"><h3 style="color: white;">Juanma</h3></div>
						    <div class="player" id="man"><h3 style="color: white;">Man</h3></div>
						    <div class="player" id="oscar"><h3 style="color: white;">Oscar</h3></div>
						    <div class="player" id="salva"><h3 style="color: white;">Salva</h3></div>
						    <div class="player" id="ruben"><h3 style="color: white;">Ruben</h3></div>
					    </div>
					    
					    <div class="pendiente">
						    <div class="Pend" id="anaP">0</div>
						    <div class="Pend" id="asunP">1</div>
						    <div class="Pend" id="conchiP">2</div>
						    <div class="Pend" id="estherP">3</div>
						    <div class="Pend" id="iagoP">4</div>
						    <div class="Pend" id="ireneP">5</div>
						    <div class="Pend" id="isaP">6</div>
						    <div class="Pend" id="juanmaP">7</div>
						    <div class="Pend" id="manP">8</div>
						    <div class="Pend" id="oscarP">9</div>
						    <div class="Pend" id="salvaP">10</div>
						    <div class="Pend" id="rubenP">11</div>
					    </div>
					    
					    
					    <div class="areaTrabajo">

							<div class= "col">
								<div class="slot" id="b1">usario 1</div>
								<div id="play">
								        <ul id="list1" class="yui3-dd-drop">
								        </ul>
								</div>
							</div>
							
							<div class="col">
								<div class="slot" id="b2">usario 2</div>
								<div id="play">
								        <ul id="list2" class="yui3-dd-drop">
										</ul>
								</div>
							</div>
	
	
							<div class="carpetas">
								<div id="play">
								        <ul id="list3" class="yui3-dd-drop">
								        	<li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_19">#453 <span class="pdfs">Ingresos <strong>50</strong></span></li>
								            <li class="list2 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_95">#447 <span class="pdfs"><strong>48</strong></span></li>
								            <li class="list2 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_155">Item #3</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_213">Item #4</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_271">Item #5</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_329">Item #6</li>
								            <li class="list2 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_387">Item #7</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_445">Item #8</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_503">Item #9</li>
								            <li class="list3 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_561">#465 <span class="pdfs">Ingresos <strong>78</strong></span></li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_619">Item #11</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_677">Item #12</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_735">Item #13</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_793">Item #14</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_851">Item #15</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_909">Item #16</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_967">Item #17</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_1025">Item #18</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_1083">Item #19</li>
								            <li class="list1 yui3-dd-drop yui3-dd-draggable" id="yui_3_18_1_1_1439545718854_1141">Item #20</li>
								        </ul>
								</div>
							</div>
						<div>
							
						</div>
					
					
					</div>
					    
					    
					    
					    
					    
					    
					    
					    
					</div>
				

				</div>



	<script type="text/javascript">
	
		YUI().use('dd-drop', 'dd-proxy', 'dd-constrain', function(Y) {
	
			var coordOrigen;
			
		    var slots = Y.one('#workarea').all('.slot');
		    
		    
		    Y.each(slots, function(v, k) {
		        var id = v.get('id'), groups = ['one'];

		        var drop = new Y.DD.Drop({
		            node: v,
		            groups: groups
		        });
		    });
			
			
		    var players = Y.one('#workarea').all('.player');
		    Y.each(players, function(v, k) {
		        var id = v.get('id'), groups = ['one'];

		        var drag = new Y.DD.Drag({
		            node: v,
		            groups: groups
		        }).plug(Y.Plugin.DDProxy, {
		            moveOnEnd: false
		        }).plug(Y.Plugin.DDConstrained, {
		            constrain2node: '#workarea'
		        });
		        
		        drag.on('drag:start', function() {
		            var p = this.get('dragNode'),
		                n = this.get('node');
		                n.setStyle('opacity', .25);
		                if (!this._playerStart) {
		                    this._playerStart = this.nodeXY;
		                }
		            p.set('innerHTML', n.get('innerHTML'));
		            p.setStyles({
		                backgroundColor: n.getStyle('backgroundColor'),
		                color: n.getStyle('color'),
		                opacity: .65
		            });
		            
		            var xy = this.get('node').getXY();
		            coordOrigen = xy;
		        });
		        drag.on('drag:end', function() {
		            var n = this.get('node');
		            n.setStyle('opacity', '1');
		        });
		        drag.on('drag:drophit', function(e) {
		            var xy = e.drop.get('node').getXY();
		            
		            this.get('node').setXY(xy);
		        });
		        drag.on('drag:dropmiss', function(e) {
		            if (this._playerStart) {
		                this.get('node').setXY(this._playerStart, Y.UA.ie);
		                var con = this.get('node').getXY();
		                this._playerStart = null;
		                if(con[0] - coordOrigen[0] == 13){
		                	this.get('node').setXY(coordOrigen);
		                }
		                
		            }
		        });
		    });
		});
	
	
	</script>

	<script type="text/javascript">
		YUI().use(
				'dd-constrain',
				'dd-proxy',
				'dd-drop',
				'dd-scroll',
				function(Y) {
					//Listen for all drop:over events
					//Y.DD.DDM._debugShim = true;

					Y.DD.DDM.on('drop:over', function(e) {
						//Get a reference to our drag and drop nodes
						var drag = e.drag.get('node'), drop = e.drop
								.get('node');

						//Are we dropping on a li node?
						if (drop.get('tagName').toLowerCase() === 'li') {
							//Are we not going up?
							if (!goingUp) {
								drop = drop.get('nextSibling');
							}
							//Add the node to this list
							e.drop.get('node').get('parentNode').insertBefore(
									drag, drop);
							//Set the new parentScroll on the nodescroll plugin
							e.drag.nodescroll.set('parentScroll', e.drop.get(
									'node').get('parentNode'));
							//Resize this nodes shim, so we can drop on it later.
							e.drop.sizeShim();
						}
					});
					//Listen for all drag:drag events
					Y.DD.DDM.on('drag:drag', function(e) {
						//Get the last y point
						var y = e.target.lastXY[1];
						//is it greater than the lastY var?
						if (y < lastY) {
							//We are going up
							goingUp = true;
						} else {
							//We are going down.
							goingUp = false;
						}
						//Cache for next check
						lastY = y;
						Y.DD.DDM.syncActiveShims(true);
					});
					//Listen for all drag:start events
					Y.DD.DDM.on('drag:start', function(e) {
						//Get our drag object
						var drag = e.target;
						//Set some styles here
						drag.get('node').setStyle('opacity', '.25');
						drag.get('dragNode').set('innerHTML',
								drag.get('node').get('innerHTML'));
						drag.get('dragNode').setStyles(
								{
									opacity : '.5',
									borderColor : drag.get('node').getStyle(
											'borderColor'),
									backgroundColor : drag.get('node')
											.getStyle('backgroundColor')
								});
					});
					//Listen for a drag:end events
					Y.DD.DDM.on('drag:end', function(e) {
						var drag = e.target;
						//Put our styles back
						drag.get('node').setStyles({
							visibility : '',
							opacity : '1'
						});
					});
					//Listen for all drag:drophit events
					Y.DD.DDM.on('drag:drophit', function(e) {
						var drop = e.drop.get('node'), drag = e.drag
								.get('node');

						//if we are not on an li, we must have been dropped on a ul
						if (drop.get('tagName').toLowerCase() !== 'li') {
							if (!drop.contains(drag)) {
								drop.appendChild(drag);
								//Set the new parentScroll on the nodescroll plugin
								e.drag.nodescroll.set('parentScroll', e.drop
										.get('node'));
							}
						}
					});

					//Static Vars
					var goingUp = false, lastY = 0;

					//Get the list of li's in the lists and make them draggable
					var lis = Y.all('#play ul li');
					lis.each(function(v, k) {
						var dd = new Y.DD.Drag({
							node : v,
							target : {
								padding : '0 0 0 20'
							}
						}).plug(Y.Plugin.DDProxy, {
							moveOnEnd : false
						}).plug(Y.Plugin.DDConstrained, {
							constrain2node : '#play'
						}).plug(Y.Plugin.DDNodeScroll, {
							node : v.get('parentNode')
						});
					});

					//Create simple targets for the 2 lists.
					var uls = Y.all('#play ul');
					uls.each(function(v, k) {
						var tar = new Y.DD.Drop({
							node : v
						});
					});

				});
	</script>


</body>
</html>